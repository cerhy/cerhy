<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="${resSys}/front.css" rel="stylesheet" type="text/css"/>
<script src="${resSys}/jquery.js" type="text/javascript"></script>
<script src="${resSys}/front.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="/${res}/css/hyindex.css" />
<link rel="stylesheet" type="text/css" href="/${res}/css/custom.css" />
<script type="text/javascript">
$(function() {
	$("#jvForm").validate();
});
</script>

[#include "../hyinclude/header.html"/]
<div class="blog-con">
<div class="blogHead">
	  <div style="font-size:30px;margin:10px auto 0">[#if user.blogTitle??]${user.blogTitle}[#else]标题[/#if]</div>
	  <div style="font-size:15px;margin:15px auto 10px;">[#if user.blogTitle2??]${user.blogTitle2}[#else]副标题[/#if]</div>
  </div>
  <div class="member clearfix">
    <div class="blogLeft clearfix"> 
      <div class="member-nav">
        <ul>
	        <li><a href="${base}/blog/contribute_add.jspx">发表博客</a></li>
	         <li><a href="${base}/blog/columns_list.jspx">博客栏目</a></li>
	        [#list columnsList as c]
              <li><a href="${base}/blog/contribute_list.jspx?id=${c.column_name}"><span class="column">${c.column_name}</span></a></li>
              [/#list]
	        <li><a href="${base}/blog/help.jspx">设置</a></li>
        </ul>
      </div>
      <div class="member-main">
        <div class="tggl">
          <form id="tableForm" action="contribute_list.jspx" method="post">
          [#if pagination.list?size gt 0]
          <table cellpadding="0" cellspacing="0">
            <tbody>
              <tr>
                <td class="tggl-top">ID</td><td class="tggl-top">标题</td><td class="tggl-top">栏目</td><td class="tggl-top">点击</td><td class="tggl-top">发布时间</td><td class="tggl-top">操作</td>
              </tr>
              [#list pagination.list as c]
              <tr>
                <td>${c.id}</td>
                <td style="text-align:left; text-indent:5px;"><a href="${c.url!}">[@text_cut s=c.title?html len='24' append='...'/]</a></td>
                <td>${c.columnName}</td>
                <td>${c.views}</td>
                <td>${c.releaseDate?string('yyyy-MM-dd')}</td>
                <td><a href="contribute_edit.jspx?id=${c.id}&nextUrl=contribute_list.jspx">修改<a> | <a href="contribute_delete.jspx?ids=${c.id}&nextUrl=contribute_list.jspx">删除<a></td>
              </tr>
              [/#list]
            </tbody>
          </table>
          <input type="hidden" name="pageNo"/>
          <table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td align="center" class="pn-sp">
                共 ${pagination.totalCount} 条&nbsp;
                每页 ${pagination.pageSize} 条&nbsp;
                <input type="button" value="首 页" onclick="_gotoPage('1');"[#if pagination.firstPage] disabled="disabled"[/#if]/>
                <input type="button" value="上一页" onclick="_gotoPage('${pagination.prePage}');"[#if pagination.firstPage] disabled="disabled"[/#if]/>
                <input type="button" value="下一页" onclick="_gotoPage('${pagination.nextPage}');"[#if pagination.lastPage] disabled="disabled"[/#if]/>
                <input type="button" value="尾 页" onclick="_gotoPage('${pagination.totalPage}');"[#if pagination.lastPage] disabled="disabled"[/#if]/>&nbsp;
                当前 ${pagination.pageNo}/${pagination.totalPage} 页 &nbsp;转到第<input type="text" id="_goPs" onfocus="this.select();" onkeypress="if(event.keyCode==13){$('#_goPage').click();return false;}" style="width:50px; border:1px solid #e7e7e7;"/>页
                <input id="_goPage" type="button" value="转" onclick="_gotoPage($('#_goPs').val());"[#if pagination.totalPage==1] disabled="disabled"[/#if] />
            </td>
            </tr>
            </table>
          <script type="text/javascript">
            function _gotoPage(pageNo) {
                try{
                    var tableForm = document.getElementById("tableForm");
                    $("input[name=pageNo]").val(pageNo);
                    tableForm.action="contribute_list.jspx";
                    tableForm.onsubmit=null;
                    tableForm.submit();
                } catch(e) {
                    alert('_gotoPage(pageNo)方法出错');
                }
            }
            </script>
            [#else]
                <div>暂无博文</div>
            [/#if]
          </form>
        </div>
      </div>
    </div>
    <div class="m-sj"></div>
  </div>
</div>
[#include "../include/footer.html"/]
</body>
</html>
